The ParaNut Processor - Source Code Distribution
================================================

Feb. 20, 2010 - Alexander Bahle <alexander.bahle@hs-augsburg.de>
                Gundolf Kiefer <gundolf.kiefer@hs-augsburg.de>

This directory tree contains a snapshot of the open source distribution
of the ParaNut project.

The software is provided “as is”, without warranty of any kind. The
entire risk as to the quality and performance of the program is with
you.


## Directory Contents
------------------

./doc:          Documentation (e.g. Architecture Reference Manual)
./sysc:         SystemC model
./hw:           Hardware implementation
./sw:           Test software and examples for the ParaNut
./systems:      Contains code and makefiles for ParaNut FPGA systems
./tools:        Tools for development and OpenOCD configuration files
config          Configuration file for SystemC and hardware implementation
Makefile        Top level makefile
settings.sh     Settings for the developing environment  


## Licensing
---------

(see license notes in the respective directories / files)


## Contributors & Contact
----------------------

Gundolf Kiefer <gundolf.kiefer@hs-augsburg.de>
Michael Seider <michael.seider@ftst.de>
Michael Schaeferling <michael.schaeferling@hs-augsburg.de>
Alexander Bahle <alexander.bahle@hs-augsburg.de>



Getting Started
===============

## 1. Prerequisites
----------------

For software compilation/debug:
- RISC-V GNU Toolchain (riscv64-unknown-elf-gcc) (latest release: https://github.com/sifive/freedom-tools/releases)
- RISC-V OpenOCD (riscv-openocd) (latest release: https://github.com/sifive/freedom-tools/releases)

For the SystemC model:
- SystemC 2.2 or later (latest release: https://www.accellera.org/downloads/standards/systemc)

For the VHDL model:
- GHDL / GtkWave or Xilinx ISim for simulation
- a synthesis tool (tested with Xilinx Vivado v2017.2)
- an evaluation board (ZYBO 7010 or 7020)

## 2. Setting up the environment 
-------------------------------------------------------------
- Set up your terminal by sourcing the settings.sh 

```
 source settings.sh
```

## 3. Building the SystemC simulator
-------------------------------------------------------------

- (Optional) Check and adapt configuration in config file
  `nano config`
- Make sure SYSTEMC_HOME environment variable is set and points to
  the top level of your SytemC installation (e.g. /opt/SystemC)

```
 make sim-sysc
```

## 4. Running "hello_world" on a ParaNut using the SystemC model
-------------------------------------------------------------

- (Optional) Check and adapt configuration in config file:
  `nano config`
- Make sure SYSTEMC_HOME environment variable is set and points to
  the top level of your SytemC installation (e.g. /opt/SystemC)
- Make sure the RISC-V GNU Toolchain is in the path 
  (the following command assumes that the $RISCV environment variable
  points to the installation directory of the tool chain):
    `export PATH=$RISCV/bin:$PATH`

```
 cd sysc
 make hello_newlib
```

To build your own software for a ParaNut processor check the
ParaNut manual (doc/paranut_manual.pdf)


## 5. Running a ParaNut on real hardware
-------------------------------------------------------------
 
Generate a Vivado Project for the Zybo board:
- (Optional) Check and adapt configuration in config file:
	` nano config `
- Make sure Xilinx Vivado tools are in the path (check systems/refdesign/README)

```
 cd systems/refdesign
 make build
 make run
```



